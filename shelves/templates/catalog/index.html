{% extends 'base.html' %}

{% block menu %}
  {% if g.user.admin %}
    <a class="dropdown-item" href="{{ url_for('catalog.create') }}">Create new item</a>
  {% endif %}
{% endblock %}

{% block content %}
  {{ super() }}
  <div class="container">
    <div class="row">
      <div class="page-header">
        <h1>Catalog</h1>
      </div>
    </div>

    <div id="catalogComputerFamilies"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Computer family" noparent="true" notype="true" is_group="true" title="Computer families"/>,
        document.getElementById('catalogComputerFamilies')
      );
    </script>

    <div id="catalogConsoleFamilies"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Console family" noparent="true" notype="true" is_group="true" title="Console families"/>,
        document.getElementById('catalogConsoleFamilies')
      );
    </script>

    <div id="catalogCalculatorFamilies"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Calculator family" noparent="true" notype="true" is_group="true" title="Calculator families"/>,
        document.getElementById('catalogCalculatorFamilies')
      );
    </script>

    <div id="catalogComputers"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Computer" notype="true" title="Computers"/>,
        document.getElementById('catalogComputers')
      );
    </script>

    <div id="catalogConsoles"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Console" notype="true" title="Consoles"/>,
        document.getElementById('catalogConsoles')
      );
    </script>

    <div id="catalogCalculators"></div>
    <script type="text/babel">
      ReactDOM.render(
        <CatalogListSection type_name="Calculator" notype="true" title="Calculators"/>,
        document.getElementById('catalogCalculators')
      );
    </script>

  </div>
{% endblock %}
